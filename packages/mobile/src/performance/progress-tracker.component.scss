@import '../../design-system/styles/variables';
@import '../../design-system/styles/mixins';

.performance-tracker {
  @include card;
  padding: var(--spacing-lg);

  // 优化进度区域
  .optimization-progress {
    margin-bottom: var(--spacing-xl);

    h3 {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-medium);
      margin-bottom: var(--spacing-md);
    }

    .progress-item {
      margin-bottom: var(--spacing-md);

      .progress-label {
        @include flex(row, space-between, center);
        margin-bottom: var(--spacing-xs);

        span {
          font-size: var(--font-size-sm);
          color: var(--text-secondary);

          &:last-child {
            font-weight: var(--font-weight-medium);
            color: var(--text-primary);
          }
        }
      }

      .progress-bar {
        height: 6px;
        background: var(--background-elevated);
        border-radius: var(--border-radius-pill);
        overflow: hidden;

        .progress-fill {
          height: 100%;
          background: var(--primary);
          transition: width var(--transition-fast);

          &.improved {
            background: var(--status-success);
          }

          &.warning {
            background: var(--status-warning);
          }

          &.critical {
            background: var(--status-error);
          }
        }
      }
    }
  }

  // 优化历史区域
  .optimization-history {
    margin-bottom: var(--spacing-xl);

    h3 {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-medium);
      margin-bottom: var(--spacing-md);
    }

    .history-list {
      .history-item {
        @include flex(column);
        padding: var(--spacing-md);
        background: var(--background-elevated);
        border-radius: var(--border-radius-md);
        margin-bottom: var(--spacing-sm);

        .history-header {
          @include flex(row, space-between, center);
          margin-bottom: var(--spacing-sm);

          .history-type {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
          }

          .history-time {
            font-size: var(--font-size-sm);
            color: var(--text-hint);
          }
        }

        .history-metrics {
          @include flex(row, space-between, center);
          margin-bottom: var(--spacing-sm);

          .metric {
            @include flex(column, center, center);
            gap: var(--spacing-xs);

            span:first-child {
              font-size: var(--font-size-sm);
              color: var(--text-secondary);
            }

            span:last-child {
              font-size: var(--font-size-md);
              font-weight: var(--font-weight-medium);
              color: var(--text-primary);
            }
          }

          .metric-arrow {
            color: var(--text-hint);
          }
        }

        .improvement {
          font-size: var(--font-size-sm);
          font-weight: var(--font-weight-medium);
          color: var(--status-error);
          text-align: right;

          &.positive {
            color: var(--status-success);
          }
        }
      }
    }
  }

  // 优化建议区域
  .optimization-suggestions {
    h3 {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-medium);
      margin-bottom: var(--spacing-md);
    }

    .suggestion-list {
      .suggestion-item {
        @include flex(row, flex-start, center);
        gap: var(--spacing-md);
        padding: var(--spacing-md);
        background: var(--background-elevated);
        border-radius: var(--border-radius-md);
        margin-bottom: var(--spacing-sm);

        .suggestion-icon {
          @include flex(row, center, center);
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--primary-light);
          color: var(--primary);
        }

        .suggestion-content {
          flex: 1;

          .suggestion-title {
            font-size: var(--font-size-md);
            font-weight: var(--font-weight-medium);
            color: var(--text-primary);
            margin-bottom: var(--spacing-xs);
          }

          .suggestion-description {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            line-height: 1.5;
          }
        }

        .suggestion-action {
          padding: var(--spacing-sm) var(--spacing-md);
          border: none;
          border-radius: var(--border-radius-sm);
          background: var(--primary);
          color: white;
          font-size: var(--font-size-sm);
          cursor: pointer;
          transition: all var(--transition-fast);

          &:hover {
            background: var(--primary-dark);
          }

          &:disabled {
            background: var(--background-paper);
            color: var(--text-disabled);
            cursor: not-allowed;
          }
        }
      }
    }
  }

  // 响应式布局
  @include responsive('mobile') {
    .history-metrics {
      flex-direction: column;
      align-items: flex-start;
      gap: var(--spacing-sm);

      .metric {
        width: 100%;
        flex-direction: row;
        justify-content: space-between;
      }

      .metric-arrow {
        display: none;
      }
    }

    .suggestion-item {
      flex-direction: column;
      align-items: flex-start;

      .suggestion-icon {
        margin-bottom: var(--spacing-sm);
      }

      .suggestion-action {
        width: 100%;
        margin-top: var(--spacing-sm);
      }
    }
  }
} 