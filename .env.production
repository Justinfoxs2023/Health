# 应用基础配置
APP_NAME=Health Management System
APP_ENV=production
APP_DEBUG=false
APP_URL=https://health.yourdomain.com
APP_PORT=443
SERVICE_NAME=health-platform
SERVICE_VERSION=2.0.0

# 安全配置
SECURITY_KEY=${SECURITY_KEY}
ENCRYPTION_KEY=${ENCRYPTION_KEY}
API_RATE_LIMIT=100
API_RATE_WINDOW=900
ALLOWED_ORIGINS=https://health.yourdomain.com,https://api.yourdomain.com
CORS_MAX_AGE=86400

# 数据库配置
DB_TYPE=mongodb
DB_HOST=${MONGO_CLUSTER_URL}
DB_PORT=27017
DB_NAME=health_platform_prod
DB_USER=${MONGO_USER}
DB_PASS=${MONGO_PASSWORD}
DB_AUTH_SOURCE=admin
DB_REPLICA_SET=rs0
DB_SSL=true
DB_SSL_VALIDATE=true
DB_MIN_POOL_SIZE=10
DB_MAX_POOL_SIZE=100
DB_CONNECT_TIMEOUT=30000

# Redis集群配置
REDIS_CLUSTER_ENABLED=true
REDIS_NODES=${REDIS_CLUSTER_NODES}
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_KEY_PREFIX=health_prod
REDIS_SSL=true
REDIS_RETRY_TIME=3600000
REDIS_RETRY_ATTEMPT_LIMIT=5
REDIS_RETRY_INTERVAL=5000
REDIS_CLUSTER_SCAN_INTERVAL=1000

# JWT配置
JWT_SECRET=${JWT_SECRET}
JWT_PRIVATE_KEY=${JWT_PRIVATE_KEY}
JWT_PUBLIC_KEY=${JWT_PUBLIC_KEY}
JWT_ALGORITHM=RS256
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
JWT_BLACKLIST_ENABLED=true
JWT_BLACKLIST_GRACE_PERIOD=30

# 存储配置
STORAGE_DRIVER=s3
AWS_REGION=${AWS_REGION}
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_S3_BUCKET=${AWS_S3_BUCKET}
AWS_S3_ENDPOINT=https://s3.amazonaws.com
AWS_S3_SSL=true
FILE_MAX_SIZE=10485760
ALLOWED_FILE_TYPES=.jpg,.jpeg,.png,.pdf,.doc,.docx

# 邮件配置
MAIL_DRIVER=ses
AWS_SES_REGION=${AWS_REGION}
MAIL_FROM_ADDRESS=no-reply@yourdomain.com
MAIL_FROM_NAME=Health Platform
MAIL_ENCRYPTION=tls
MAIL_RATE_LIMIT=100
MAIL_RATE_WINDOW=3600

# 监控和日志
LOG_LEVEL=info
LOG_CHANNEL=cloudwatch
AWS_CLOUDWATCH_GROUP=health-platform-prod
AWS_CLOUDWATCH_STREAM=${POD_NAME}
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
MONITOR_ENABLED=true
MONITOR_SAMPLE_RATE=0.01
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true
METRICS_PREFIX=health_prod

# 缓存配置
CACHE_DRIVER=redis
CACHE_PREFIX=health_prod
CACHE_TTL=3600
CACHE_LOCAL_MAX_SIZE=5000
CACHE_LOCAL_TTL=300
CACHE_DISTRIBUTED_TTL=3600
CACHE_WRITE_PATTERN=write-through
CACHE_COMPRESSION_ENABLED=true
CACHE_COMPRESSION_THRESHOLD=1024

# 会话配置
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_SECURE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict

# 服务发现和负载均衡
CONSUL_HOST=${CONSUL_HOST}
CONSUL_PORT=8500
CONSUL_TOKEN=${CONSUL_TOKEN}
CONSUL_SSL=true
CONSUL_DC=dc1
LOAD_BALANCER_STRATEGY=round-robin

# AI服务配置
AI_SERVICE_URL=${AI_SERVICE_URL}
AI_SERVICE_KEY=${AI_SERVICE_KEY}
AI_MODEL_VERSION=2.0.0
AI_REQUEST_TIMEOUT=30000
AI_MAX_RETRIES=3
AI_BATCH_SIZE=32
AI_CACHE_TTL=3600
AI_RESULT_EXPIRY=86400
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_ORG_ID=${OPENAI_ORG_ID}
DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY}
DEEPSEEK_API_BASE=https://api.deepseek.com/v1

# 第三方服务集成
WECHAT_APP_ID=${WECHAT_APP_ID}
WECHAT_APP_SECRET=${WECHAT_APP_SECRET}
WECHAT_TOKEN=${WECHAT_TOKEN}
WECHAT_AES_KEY=${WECHAT_AES_KEY}

ALIPAY_APP_ID=${ALIPAY_APP_ID}
ALIPAY_PRIVATE_KEY=${ALIPAY_PRIVATE_KEY}
ALIPAY_PUBLIC_KEY=${ALIPAY_PUBLIC_KEY}
ALIPAY_NOTIFY_URL=https://api.yourdomain.com/payment/alipay/notify

# 性能优化
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
CACHE_CONTROL_MAX_AGE=31536000
STATIC_CACHE_TTL=2592000
API_CACHE_TTL=60
RESPONSE_TIMEOUT=30000
MAX_PAYLOAD_SIZE=5mb

# 安全防护
DDOS_PROTECTION_ENABLED=true
DDOS_MAX_REQUESTS=1000
DDOS_TIME_WINDOW=60
XSS_PROTECTION_ENABLED=true
SQL_INJECTION_PROTECTION=true
CSRF_PROTECTION=true
CSRF_TOKEN_EXPIRE=7200
SECURE_HEADERS_ENABLED=true

# 集群配置
CLUSTER_ENABLED=true
CLUSTER_NAME=health-platform-prod
CLUSTER_SIZE=3
CLUSTER_SYNC_INTERVAL=1000
CLUSTER_HEARTBEAT_INTERVAL=5000

# 容器和K8s配置
K8S_NAMESPACE=health-prod
K8S_SERVICE_ACCOUNT=health-platform
POD_CPU_LIMIT=2
POD_MEMORY_LIMIT=4Gi
POD_CPU_REQUEST=1
POD_MEMORY_REQUEST=2Gi
HORIZONTAL_POD_AUTOSCALER_ENABLED=true
MIN_REPLICAS=3
MAX_REPLICAS=10
TARGET_CPU_UTILIZATION=80

# 健康检查
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_SUCCESS_THRESHOLD=1
HEALTH_CHECK_FAILURE_THRESHOLD=3

# 备份配置
BACKUP_ENABLED=true
BACKUP_PROVIDER=s3
BACKUP_S3_BUCKET=${BACKUP_S3_BUCKET}
BACKUP_FREQUENCY=daily
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_COMPRESSION_ENABLED=true

# CDN配置
CDN_ENABLED=true
CDN_PROVIDER=cloudfront
CDN_URL=${CDN_URL}
CDN_KEY_PAIR_ID=${CDN_KEY_PAIR_ID}
CDN_PRIVATE_KEY=${CDN_PRIVATE_KEY}
CDN_CACHE_TTL=86400

# 日志配置
LOG_PATH=/var/log/miniprogram

# 性能监控配置
PERFORMANCE_MONITOR_ENABLED=true
PERFORMANCE_METRICS_INTERVAL=60000

# 微信小程序配置
WECHAT_APPID=your_appid
WECHAT_SECRET=your_secret
